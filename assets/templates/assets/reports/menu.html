{% extends "base.html" %}
{% load static %}

{% block title %}Fixed Asset Reports{% endblock %}

{% block content %}
<div class="container-fluid">
    <!-- Header -->
    <div class="row mb-4">
        <div class="col-12">
            <div class="d-flex justify-content-between align-items-center">
                <div>
                    <h1 class="h3 mb-1">üìä Fixed Asset Reports</h1>
                    <p class="text-muted">Accounting & Tax Reporting</p>
                </div>
                <div class="text-end">
                    <small class="text-muted">As of {{ current_date|date:"F d, Y" }}</small>
                </div>
            </div>
        </div>
    </div>

    <!-- Quick Stats Cards -->
    <div class="row mb-4">
        <div class="col-md-6">
            <div class="card bg-primary text-white">
                <div class="card-body">
                    <div class="d-flex justify-content-between">
                        <div>
                            <h5 class="card-title">Total Assets</h5>
                            <h2 class="mb-0">{{ total_assets }}</h2>
                        </div>
                        <div class="align-self-center">
                            <i class="fas fa-archive fa-2x opacity-75"></i>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <div class="col-md-6">
            <div class="card bg-success text-white">
                <div class="card-body">
                    <div class="d-flex justify-content-between">
                        <div>
                            <h5 class="card-title">Total Asset Value</h5>
                            <h2 class="mb-0">${{ total_value|floatformat:0 }}</h2>
                        </div>
                        <div class="align-self-center">
                            <i class="fas fa-dollar-sign fa-2x opacity-75"></i>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Main Reports Grid -->
    <div class="row">
        <!-- Financial Reports -->
        <div class="col-lg-6 mb-4">
            <div class="card">
                <div class="card-header bg-primary text-white">
                    <h5 class="card-title mb-0">üìä Financial Reports</h5>
                </div>
                <div class="card-body">
                    <div class="list-group list-group-flush">
                        <a href="{% url 'assets:balance_sheet_report' %}" class="list-group-item list-group-item-action">
                            <div class="d-flex w-100 justify-content-between">
                                <h6 class="mb-1">üìã Balance Sheet Assets</h6>
                                <small>For Balance Sheet</small>
                            </div>
                            <p class="mb-1">Asset cost, accumulated depreciation, and net book values by category</p>
                        </a>
                        
                        <a href="{% url 'assets:trial_balance_report' %}" class="list-group-item list-group-item-action">
                            <div class="d-flex w-100 justify-content-between">
                                <h6 class="mb-1">‚öñÔ∏è Trial Balance - Assets</h6>
                                <small>For Trial Balance</small>
                            </div>
                            <p class="mb-1">GL account balances for trial balance preparation</p>
                        </a>
                        
                        <a href="{% url 'assets:asset_register_report' %}" class="list-group-item list-group-item-action">
                            <div class="d-flex w-100 justify-content-between">
                                <h6 class="mb-1">üìñ Asset Register</h6>
                                <small>Complete Listing</small>
                            </div>
                            <p class="mb-1">Complete asset inventory with financial details</p>
                        </a>
                    </div>
                </div>
            </div>
        </div>

        <!-- Tax Reports -->
        <div class="col-lg-6 mb-4">
            <div class="card">
                <div class="card-header bg-success text-white">
                    <h5 class="card-title mb-0">üìÑ Tax Reports</h5>
                </div>
                <div class="card-body">
                    <div class="list-group list-group-flush">
                        <a href="{% url 'assets:tax_schedule_report' %}" class="list-group-item list-group-item-action">
                            <div class="d-flex w-100 justify-content-between">
                                <h6 class="mb-1">üìÖ Tax Depreciation Schedule</h6>
                                <small>For Tax Returns</small>
                            </div>
                            <p class="mb-1">Annual depreciation deductions for tax return preparation</p>
                        </a>
                        
                        <a href="{% url 'assets:depreciation_expense_report' %}" class="list-group-item list-group-item-action">
                            <div class="d-flex w-100 justify-content-between">
                                <h6 class="mb-1">üí∞ Depreciation Expense</h6>
                                <small>For P&L Statement</small>
                            </div>
                            <p class="mb-1">Depreciation expense summary for income statement</p>
                        </a>
                        
                        <a href="{% url 'assets:movements_report' %}" class="list-group-item list-group-item-action">
                            <div class="d-flex w-100 justify-content-between">
                                <h6 class="mb-1">üìà Asset Movements</h6>
                                <small>Additions/Disposals</small>
                            </div>
                            <p class="mb-1">Asset additions and disposals for the period</p>
                        </a>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Quick Actions -->
    <div class="row">
        <div class="col-12">
            <div class="card">
                <div class="card-header">
                    <h5 class="card-title mb-0">‚ö° Quick Actions</h5>
                </div>
                <div class="card-body">
                    <div class="btn-group" role="group">
                        <a href="{% url 'assets:balance_sheet_report' %}?as_of_date={{ current_date|date:'Y-m-d' }}" class="btn btn-outline-primary">
                            üìä Current Balance Sheet
                        </a>
                        <a href="{% url 'assets:tax_schedule_report' %}?year={{ current_date|date:'Y' }}" class="btn btn-outline-success">
                            üìÑ Current Year Tax Schedule
                        </a>
                        <a href="{% url 'assets:movements_report' %}?start_date={{ current_date|date:'Y' }}-01-01&end_date={{ current_date|date:'Y-m-d' }}" class="btn btn-outline-info">
                            üìà YTD Asset Movements
                        </a>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Integration Notes -->
    <div class="row mt-4">
        <div class="col-12">
            <div class="card border-info">
                <div class="card-header bg-info text-white">
                    <h6 class="card-title mb-0">üí° Integration Notes</h6>
                </div>
                <div class="card-body">
                    <div class="row">
                        <div class="col-md-6">
                            <h6>Balance Sheet Integration:</h6>
                            <ul class="list-unstyled">
                                <li>‚Ä¢ Net book values appear under "Fixed Assets"</li>
                                <li>‚Ä¢ Automatic GL account mapping</li>
                                <li>‚Ä¢ Period-end balance calculations</li>
                            </ul>
                        </div>
                        <div class="col-md-6">
                            <h6>Tax Return Integration:</h6>
                            <ul class="list-unstyled">
                                <li>‚Ä¢ Depreciation deductions by asset</li>
                                <li>‚Ä¢ Book vs tax depreciation differences</li>
                                <li>‚Ä¢ Asset disposal gains/losses</li>
                            </ul>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>
{% endblock %}

{% block extra_css %}
<style>
.card {
    box-shadow: 0 0.125rem 0.25rem rgba(0, 0, 0, 0.075);
    border: 1px solid rgba(0, 0, 0, 0.125);
}

.list-group-item-action:hover {
    background-color: #f8f9fa;
}

.opacity-75 {
    opacity: 0.75;
}

.bg-primary {
    background-color: #0d6efd !important;
}

.bg-success {
    background-color: #198754 !important;
}

.bg-info {
    background-color: #0dcaf0 !important;
}
</style>
{% endblock %}
